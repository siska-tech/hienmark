---
status: completed
priority: high
assignee: BE
start_date: 2025-11-14
end_date: 2025-11-16
tags: ["アーキテクチャ", "REQ-ARC-001", "実装", "Rust"]
depends_on: []
---

# Task-ARC-1.3: Markdownファイル → SQLiteインデックス再構築機能

## 概要

SQLiteインデックスファイルが破損または削除された場合、全Markdownファイルから完全に再構築可能な機能を実装する。

## タスク詳細

### 実装要件

- インデックスファイル（`.hienmark/cache.sqlite`）の存在確認
- 存在しない場合: 全Markdownファイルをスキャン → インデックスへ一括インポート
- 再構築は起動時または手動実行時に実行可能

### 再構築ロジック

1. ワークスペース内の全`.md`ファイルをスキャン
2. 各ファイルのFront Matterをパース
3. SQLiteインデックスに一括インポート（トランザクション）

### チェックリスト

- [ ] 再構築機能の実装
- [ ] 起動時自動再構築ロジック
- [ ] 手動実行機能（UI/API）
- [ ] 再構築の進捗表示
- [ ] エラーハンドリング
- [ ] テスト（10,000ファイルでの再構築時間測定）

## メモ

- Markdownファイルが唯一の真実の源であることを保証
- ネットワークドライブでの破損リスクを回避



